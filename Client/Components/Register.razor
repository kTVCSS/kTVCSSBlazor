@page "/register"
@using Microsoft.AspNetCore.Components.Authorization
@using Radzen.Blazor
@using System.Text.RegularExpressions
@using kTVCSS.Models.Models
@using kTVCSSBlazor.Client.Authorization
@inject NavigationManager NavigationManager
@inject StateProvider AuthProvider
@inject NotificationService notify

<PageTitle>kTVCSS @@ Регистрация в системе</PageTitle>

<CascadingAuthenticationState>
    <AuthorizeView Context="auth">
        <Authorized>

        </Authorized>
        <NotAuthorized>
            <RadzenRow JustifyContent="JustifyContent.Center">
                <RadzenColumn SizeSM="12" SizeMD="6">
                    <RadzenStack JustifyContent="JustifyContent.Center">
                        <RadzenImage class="rz-m-auto" Path="/images/logo_ktv.png" Style="width: 256px;" AlternateText="community" />
                        <RadzenTemplateForm class="rz-py-4 rz-px-4" Data=@("LoginWithDefaultValues")>
                            <RadzenLogin FormFieldVariant="Variant.Flat" LoginText="Зарегистрироваться" UserText="Логин" PasswordText="Пароль" AllowRegister="false"
                            AllowResetPassword="false" Username=@userName Password=@password RegisterMessageText=""
                            Login=@(args => OnRegister(args, "Login with default values")) />
                        </RadzenTemplateForm>
                    </RadzenStack>
                </RadzenColumn>
            </RadzenRow>
        </NotAuthorized>
    </AuthorizeView>
</CascadingAuthenticationState>
